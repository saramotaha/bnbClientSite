<body style="background-color: white;">
    <app-base-nav/>

<div class="container mt-3" style="max-width: 1120px">
    @if(propertyDetails) {
    <div class="mt-3">
        <h3 class="mt-3">{{propertyDetails.title}}</h3>
    </div>

}@else {
    <p>No property details available.</p>
}
<app-image-gallery [propertyId]="propertyId" ></app-image-gallery>
    
   
<div class="row p-0  ">
    <div class="col-8 ">
        <h4>{{propertyDetails?.description}} , {{propertyDetails?.country}}</h4>
        <div class="d-flex gap-3">
            <p>{{propertyDetails?.maxGuests }} {{propertyDetails?.maxGuests ??0> 1 ? 'Guests':'Guest'}} • 
                {{propertyDetails?.bedrooms}} {{propertyDetails?.bedrooms??0 > 1 ? 'Bedrooms':'Bedroom'}} • {{propertyDetails?.bathrooms}} {{propertyDetails?.bathrooms?? 0 > 1 ? 'Baths':'Bath'}} </p>
            <!-- <p>{{propertyDetails.bedrooms}} {{propertyDetails.bedrooms > 1 ? 'Bedrooms':'Bedroom'}} </p>
            <p>{{propertyDetails.bathrooms}} {{propertyDetails.bathrooms > 1 ? 'Baths':'Bath'}} </p> -->
        </div>
        <div class="d-flex align-items-center mt-3 gap-3">
             <div class="rounded-circle">
                <img src="https://plus.unsplash.com/premium_photo-1689568126014-06fea9d5d341?q=80&w=1740&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" 
                     alt="Host" 
                     class="rounded-circle"
                    style="width: 60px; height: 60px; object-fit: cover;">
            </div>
            <div>
                <h6 class="fs-5 fw-semibold mb-1">Hosted by {{propertyDetails.hostName}}</h6>
            </div>
        </div>
        <hr class="my-5"/>
        
        <app-propertydetails-amenities [propertyId]="propertyId"></app-propertydetails-amenities>
        <hr class="my-5"/>
        <app-propertydetails-calendar (datesSelected)="onDatesSelected($event)" [propertyId]="propertyId"></app-propertydetails-calendar>
         

    </div>
    <div class="col-4">
        <div class="sticky-top" style="top: 15px;">
            <app-propertybookingcard [selectedCheckIn]="selectedCheckIn" [selectedCheckOut]="selectedCheckOut" [propertyId]="propertyId"></app-propertybookingcard>

        </div>
<!-- Report Modal -->
<div class="modal fade report-modal" id="violationModal" tabindex="-1" aria-labelledby="reportModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="reportModalLabel">Report This Listing</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <div class="modal-body">
        <!-- Form -->
        <form *ngIf="!isSubmitted" (ngSubmit)="submitReport()" #reportForm="ngForm" class="report-form">
         <div class="mb-3">
  <label for="violationType" class="form-label">Violation Type</label>
  <select
    class="form-select"
    id="violationType"
    name="violationType"
    [(ngModel)]="selectedViolationType"
    required
  >
    <option value="" disabled selected>Select a violation type</option>
    <option *ngFor="let type of violationTypes" [value]="type.value">
      {{ type.label }}
    </option>
  </select>
</div>

          <div class="mb-3">
            <label for="reportDescription" class="form-label">Description</label>
            <textarea
              class="form-control"
              id="reportDescription"
              name="description"
              rows="4"
              [(ngModel)]="report.description"
              required
              placeholder="Please provide details about the violation..."
            ></textarea>
            <div class="form-text">Be as specific as possible to help us investigate</div>
          </div>

          <div class="d-grid gap-2">
            <button type="submit" class="btn btn-report text-white" [disabled]="!reportForm.form.valid">
              Submit Report
            </button>
          </div>
        </form>

        <!-- Confirmation Message -->
        <div *ngIf="isSubmitted" class="text-center">
          <div class="confirmation-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="currentColor" class="bi bi-check-circle" viewBox="0 0 16 16">
              <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
              <path d="M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"/>
            </svg>
          </div>
          <h5 class="confirmation-message">Thank you for your report!</h5>
          <p>We've received your report and will review it shortly.</p>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
</div>


    </div>
            <hr class="my-5"/>
    <app-property-detials-review [propertyId]="propertyId"></app-property-detials-review>

    <app-porperty-location [latitude]="latitude" [longitude]="longitude" [address]="address"></app-porperty-location>
    <app-property-host [hostId]="hostId" [propertyId]="propertyId"></app-property-host>
</div>

</div>
   



<app-footer/>

</body>



