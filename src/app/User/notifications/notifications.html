<div class="notification-container position-relative">
  <button class="notification-button position-relative" (click)="toggleDropdown($event)">
    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M8 1.5C5.51472 1.5 3.5 3.51472 3.5 6V9.5L2 11V12H14V11L12.5 9.5V6C12.5 3.51472 10.4853 1.5 8 1.5Z" stroke="currentColor" stroke-width="1.5"/>
      <path d="M6.5 13.5C6.5 14.6046 7.39543 15.5 8.5 15.5C9.60457 15.5 10.5 14.6046 10.5 13.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
    </svg>
    <span *ngIf="unreadCount > 0" class="notification-badge">{{ unreadCount }}</span>
  </button>

  <div class="notification-dropdown" [class.show]="isOpen" *ngIf="isOpen">
    <div class="notification-header" *ngIf="unreadCount > 0">
      <h6>Notifications</h6>
      <button class="btn btn-sm btn-outline-primary" (click)="markAllAsRead()">
        Mark all as read
      </button>
    </div>
    <div class="notification-header" *ngIf="unreadCount === 0">
      <h6>Notifications</h6>
      <span class="text-muted small">All caught up!</span>
    </div>
    
    <div class="notification-items">
      <div *ngFor="let notification of notifications" 
           class="notification-item" 
           [class.unread]="!notification.isRead"
           (click)="markAsRead(notification.id)">
        <div class="notification-content">
          <div class="notification-message">{{notification.message}}</div>
          <div class="notification-time">{{formatDate(notification.createdAt)}}</div>
        </div>
      </div>
    </div>
  </div>
</div>